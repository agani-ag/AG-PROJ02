{% extends "base.html" %}
{% load static %}

{% block content %}
<h2>Update Book</h2>
<hr>

<div class="row">
	<div class="col">
		<h3>Customer: <span class="text-primary">{{book.customer.customer_name}}</span></h3>
		<h3>Current Balance: {% if book.current_balance > 0 %}<span class="text-success">{{ book.current_balance|floatformat:2 }}</span>{% else %}<span class="text-danger">{{ book.current_balance|floatformat:2 }}</span>{% endif %}</h3>
	</div>
	
	<div class="col text-right">
		<form method="POST">
			{% csrf_token %}
			<table class="table">
			<tbody class="two-col-form">
				<tr>
					<th scope="row" class="text-right">Date & Time:</th>
					<td class="form-input-td customer_search_area">
						<input type="datetime-local" value="{%now "Y-m-d H:i:s"%}" name="date">
					</td>
				</tr>
				<tr>
					<th scope="row" class="text-right">Change in balance:</th>
					<td class="form-input-td">{{form.change}}</td>
				</tr>
				<tr>
					<th scope="row" class="text-right">Change Type:</th>
					<td class="form-input-td">{{form.change_type}}</td>
				</tr>
				<tr>
					<th scope="row" class="text-right">Associated Invoice Number:</th>
					<td class="form-input-td"><input type="text" name="invoice_no"></ins></td>
				</tr>
				<tr>
					<th scope="row" class="text-right">Desription:</th>
					<td class="form-input-td">{{form.description}}</td>
				</tr>
			</tbody>
			</table>

			<div class="d-flex justify-content-end gap-2">
				<button type="submit" class="btn btn-primary">
					<i class="fas fa-save"></i>
                </button>&nbsp;
				<a href="{% url 'book_logs' book.id %}" class="btn btn-warning">
					<i class="fas fa-reply"></i>
				</a>
			</div>
		</form>
	</div>
</div>
{% endblock %}
