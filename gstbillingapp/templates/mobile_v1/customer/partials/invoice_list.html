{% if invoices %}
    <div style="padding: 0 8px;">
        {% for invoice in invoices %}
            <div class="invoice-card">
                
                <div class="invoice-header">
                    <div class="invoice-number-section">
                        <p class="invoice-label">Invoice Number</p>
                        <h3 class="invoice-number">{{ invoice.invoice_number }}</h3>
                    </div>
                    {% if not invoice.is_gst %}
                        <span class="invoice-type-badge">Non-GST</span>
                    {% endif %}
                    <div class="transaction-date font-weight-bold">
                        â‚¹{{ invoice.total_amt_with_gst }}
                    </div>
                </div>
                
                <div class="invoice-meta">
                    <div class="invoice-date">
                        <i class="fas fa-calendar-days"></i>
                        <span>{{ invoice.invoice_date|date:"d M, Y" }}</span>
                    </div>
                    <a href="{% url 'v1customerinvoiceviewer' invoice.id %}?cid={{ request.GET.cid }}&u={{ request.GET.u }}&admin={{ request.GET.admin }}&users_filter={{ request.GET.users_filter }}" 
                       class="invoice-action">
                        <i class="fas fa-eye"></i>
                        View
                    </a>
                </div>
                
            </div>
        {% endfor %}
    </div>

    <!-- Pagination -->
    {% if invoices.has_other_pages %}
    <div class="pagination-container">
        <ul class="custom-pagination">

            {% if invoices.has_previous %}
            <li>
                <a href="#" class="page-btn" onclick="loadInvoices({{ invoices.previous_page_number }}); return false;">
                    <i class="fas fa-chevron-left"></i>
                </a>
            </li>
            {% else %}
            <li>
                <span class="page-btn disabled">
                    <i class="fas fa-chevron-left"></i>
                </span>
            </li>
            {% endif %}

            {% if invoices.number > 3 %}
                <li><a href="#" class="page-btn" onclick="loadInvoices(1); return false;">1</a></li>
                {% if invoices.number > 4 %}
                    <li><span class="page-btn disabled">...</span></li>
                {% endif %}
            {% endif %}

            {% for num in invoices.paginator.page_range %}
                {% if num >= invoices.number|add:-2 and num <= invoices.number|add:2 %}
                    <li>
                        <a href="#" 
                           class="page-btn {% if invoices.number == num %}active{% endif %}"
                           onclick="loadInvoices({{ num }}); return false;">
                            {{ num }}
                        </a>
                    </li>
                {% endif %}
            {% endfor %}

            {% if invoices.number < invoices.paginator.num_pages|add:-2 %}
                {% if invoices.number < invoices.paginator.num_pages|add:-3 %}
                    <li><span class="page-btn disabled">...</span></li>
                {% endif %}
                <li><a href="#" class="page-btn" onclick="loadInvoices({{ invoices.paginator.num_pages }}); return false;">{{ invoices.paginator.num_pages }}</a></li>
            {% endif %}

            {% if invoices.has_next %}
            <li>
                <a href="#" class="page-btn" onclick="loadInvoices({{ invoices.next_page_number }}); return false;">
                    <i class="fas fa-chevron-right"></i>
                </a>
            </li>
            {% else %}
            <li>
                <span class="page-btn disabled">
                    <i class="fas fa-chevron-right"></i>
                </span>
            </li>
            {% endif %}

        </ul>
    </div>
    {% endif %}

{% else %}
    <!-- Empty State -->
    <div class="empty-state">
        <div class="empty-state-icon">
            <i class="fas fa-file-invoice"></i>
        </div>
        <h3 class="empty-state-title">No Invoices Found</h3>
        <p class="empty-state-text">There are no invoices to display at the moment.</p>
    </div>
{% endif %}
